
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
<!--     <link rel="shortcut icon" href="../../assets/ico/favicon.png">
 -->
    <title>Feast.fm</title>

    <!-- Bootstrap core CSS -->
    <!-- <link href="css/bootstrap.css" rel="stylesheet">

    Custom styles for this template
    <link href="css/navbar-static-top.css" rel="stylesheet"> -->

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="../../assets/js/html5shiv.js"></script>
      <script src="../../assets/js/respond.min.js"></script>
    <![endif]-->
  




    <!-- <script type = "text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js" ></script>  -->
    <!-- <script type = "text/javascript" src="http://code.jquery.com/jquery-1.9.1.min.js"></script> -->
    <!-- <script type = "text/javascript" src="{{ STATIC_URL}}jquery-1.9.1.min.js" ></script> -->
    <script src="http://code.jquery.com/jquery-1.10.2.min.js"></script>

    <script src = "http://toma.hk/api.js" type= "text/javascript"></script>
    <script src = "http://tinysort.sjeiti.com/src/jquery.tinysort.js"></script>

    <!-- <script type="text/javascript" src="media/jquery-1.9.1.min.js"></script>
     -->

    <link href="{{ STATIC_URL }}noUiSlider-3.2.1/nouislider.fox.css" rel="stylesheet" type="text/css">
    <!-- <link href="/static/noUiSlider-3.2.1/nouislider.space.css" rel="stylesheet" type="text/css"> -->
    <script src="{{ STATIC_URL }}noUiSlider-3.2.1/jquery.nouislider.min.js"></script>
    <link href = "{{ STATIC_URL }}bootstrap3/css/bootstrap.css" rel="stylesheet">
    <link href="{{ STATIC_URL }}bootstrap3/css/navbar-static-top.css" rel="stylesheet">

    <style>
    .red{
        color:red;
    }
    </style>


 </head> 

<body>


<div class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">Feast.fm</a>
        </div>
        
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href = "/stream">Stream</a></li>
            <li> <a href="/search">Search</a><li>
          </ul>

    <!--            <form class="navbar-form navbar-left" role="search">
                <div class="form-group">
                  <input type="text" class="form-control" placeholder="Search">
                </div>
                <button type="submit" class="btn btn-default">Search</button>
              </form> -->

          <ul class="nav navbar-nav navbar-right">
            <li><a href = "#current-track" id = "now-playing">Artist-Title</a></li>
            <li><button type="button" id ="play-previous" class="btn btn-default navbar-btn"><span class="glyphicon glyphicon-backward"></button></li>
            <li><button type="button" id ="play-pause" class="btn btn-default navbar-btn"><span class="glyphicon glyphicon-play"></span>/<span class="glyphicon glyphicon-pause"></span></button></li>
            <li><button type="button" id ="play-next" class="btn btn-default navbar-btn"><span class="glyphicon glyphicon-forward"></button></li>


            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">My Music <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="/my_follows">Artists/Labels/Sites</a></li>
                <li><a href="/my_sounds/">Loved Songs</a></li>
                <li><a href="#">Playlists</a></li>
              </ul>
            </li>


            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">Profile <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href = '/accounts/login'>Login</a></li>
                <li><a href = '/accounts/logout'>Logout</a></li>
                <li><a href = '/accounts/register'>Register</a></li>
                <li><a href="#">Account Settings</a></li>

              </ul>
            </li>
          </ul>

        </div><!--/.nav-collapse -->
      </div>
    </div>


    <div class="container col-md-8  "> <!-- col-md-offset-0 -->



<!--         <div id = "login">
        {% if user and user.is_authenticated %}
            <p>Logged in as: {{ user.username }}</p>
            <a href='/accounts/logout'> Logout </a>
        {% else %}
                <a href = '/accounts/login'> Login </a>
                <br/>
                <a href = '/accounts/register'> Register </a>
        {% endif %}
        </div>
 -->



        <div id="player">
        </div>

        <br>
        <br>
        <div class="noUiSlider"></div>

        <br>

<!--         <button type="button" id ="play-previous">Previous</button>
        <button type="button" id ="play-pause">Pause/Unpause</button>
        <button type="button" id ="play-next">Next</button> -->
       <!--  <br>
        <button type="button" id ="track-seek">track.seek()</button>
 -->
        <br></br>
        <button type="button" id ="artist-sort">Sort by Artist</button>
        <button type="button" id="label-sort">Sort by Label</button>
        <button type="button" id="date-sort">Sort by Date</button>
        <button type="button" id="catalog-sort">Sort by Catalog Number </button>
        <button type="button" id="type-sort">Sort by Type of Release </button>


        <!-- <img width="200" height="200" src="http://ws.audioscrobbler.com/2.0/?method=artist.imageredirect&amp;artist=JAY+Z+Picasso+Baby&amp;autocorrect=1&amp;size=largesquare&amp;api_key=a81521f42db5b48e3a474f30d1c9814d" class="to-begin-loading">
         -->

        {% if releases %}
<!--         <ul> Releases: -->
        {% for release in releases %}
            <div class="media album stream-item release" 
            data-artist = "{{release.artist}}"
            data-artist-id = "{{release.artist_id}}"
            data-album-title = "{{release.title}}"
            data-catalog-num = "{{release.cat_num}}"
            data-label = "{{release.label}}"
            data-label-id = "{{ release.label_id }}"
            data-date = "{{release.date}}"
            data-reid = "{{release.reid}}" 
            data-primary-type = "{{release.primary_type}}"

            >
                <a class="pull-left" href="#">
                  <img width = "100" height = "100" class="media-object" src="http://ws.audioscrobbler.com/2.0/?method=album.imageredirect&amp;artist={{release.artist|escape}}&amp;album={{release.title|escape}}&amp;autocorrect=1&amp;size=largesquare&amp;api_key=c43db4e93f7608bb10d96fa5f69a74a1" alt="...">
                </a>
                
                <div class="media-body">
                  <h3 class="media-heading"><a href = "/artist/{{ release.artist_id|escape }}"><strong>{{release.artist}}</strong>  </a> <button type = "button" class = "btn btn-default follow-artist" data-artist-id = "{{ release.artist_id }}" data-following-artist = "{{release.following_artist}}">{{release.following_artist}}</button>
                    
                    <div class = "pull-right" >
                    <span class = "expand-album" >  
                        <a title = "Expand album" ><span data-reid = "{{release.reid}}" class="glyphicon glyphicon-chevron-down"></span></a>
                    </span>

                    <a ><span data-reid = "{{release.reid}}"  class="glyphicon glyphicon-heart love-album"></span></a>
                    <a ><span title = "add to playlist" class="glyphicon glyphicon-plus"></span></a>    
                      <a title = "Play album" class = "btn btn-default"><span data-reid = "{{release.reid}}" class="glyphicon glyphicon-play play-entire-album"></span></a>
                    </div>
                    <br>
                    <em>{{release.title}}</em>
                     <span class = "release-type">[{{release.primary_type}}] 
                        {% if release.secondary_types %}
                        {% for s_type in release.secondary_types %} 
                            [{{ s_type }}]  
                        {% endfor %}
                        {% endif %} 
                    </span>

                  </h3>
                  <h4><a class = "label-link" href = "/label/{{ release.label_id|escape }}" >{{release.label}}</a><button type = "button" class = "btn btn-default follow-label" data-label-id = "{{ release.label_id }}">{{release.following_label}}</button></h4>
                  <h5 class = "catalog-number">{{release.cat_num}}</h5>
                  <h5 class = "date">{{release.date}}</h5>
                  <h4>
                  <ul type ="none" class = "album-tracks">
                   <!--  <li><a href = "#"><span class="glyphicon glyphicon-play"></span></a> <a href = "">Artist</a> - track 1 
                      <a title = "Love track" href = "#"><span class="glyphicon glyphicon-heart"></span></a>
                      <a title ="Add to playlist"><span class="glyphicon glyphicon-plus"></span></a>
                    </li> -->
                <!--     <li><a href = "#"><span class="glyphicon glyphicon-play"></span></a> <a href = "">Artist</a> - track 1 
                      <a href = "#"><span class="glyphicon glyphicon-heart"></span></a>
                      <a ><span class="glyphicon glyphicon-plus"></span></a>
                    </li><li><a href = "3"><span class="glyphicon glyphicon-play"></span></a> <a href = "">Artist</a> - track 1 
                      <a href = "#"><span class="glyphicon glyphicon-heart"></span></a>
                      <a ><span class="glyphicon glyphicon-plus"></span></a>
                    </li><li><a href = "3"><span class="glyphicon glyphicon-play"></span></a> <a href = "">Artist</a> - track 1 
                      <a href = "#"><span class="glyphicon glyphicon-heart"></span></a>
                      <a ><span class="glyphicon glyphicon-plus"></span></a>
                    </li> -->
                  </h4>
                  </ul>
                </div>
              </div>
<br>    


<!-- 


            <ul data-reid = "{{release.reid}}" data-artist ="{{ release.artist }}" data-title ="{{release.title}}" data-date = "{{release.date}}"data-label ="{{release.label}}" data-catalog-number = "{{release.cat_num}}" class = "stream-item release" > 
                <div>
                    <img width = "100" height="100" src = "http://ws.audioscrobbler.com/2.0/?method=album.imageredirect&amp;mbid={{release.reid}}&amp;autocorrect=1&amp;size=largesquare&amp;api_key=c43db4e93f7608bb10d96fa5f69a74a1">
                    <img width = "100" height="100" src = "http://ws.audioscrobbler.com/2.0/?method=album.imageredirect&amp;artist={{release.artist|escape}}&amp;album={{release.title|escape}}&amp;autocorrect=1&amp;size=largesquare&amp;api_key=c43db4e93f7608bb10d96fa5f69a74a1">
                </div>


                <a href = "/artist/{{ release.artist_id|escape }}">
                
                 {{ release.artist }} </a> 
                <span >
                    <button type="button" data-artist-id = "{{ release.artist_id }}" class ="follow-artist">
                        {{ release.following_artist }}
                    </button>
                </span>

                <div class = 'album'> {{release.title}}
                <span class = "release-type">[{{release.primary_type}}] 
                    {% if release.secondary_types %} 
                    {{release.secondary_types}}  
                    {% endif %} 
                </span>
                <span class = "date">{{release.date}}</span>
                </div>
                <div class = "label"><a class = "label-link" href = "/label/{{ release.label_id|escape }}" >{{release.label}}</a>
                    <span>
                        <button type="button" data-label-id = "{{ release.label_id }}" class ="follow-label">
                            {{release.following_label}}
                        </button>
                    </span>
                </div>
                <div class = "catalog-number">{{release.cat_num}}</div>
            </ul> -->
        {% endfor %}
        <!-- </ul> -->
        {% endif %}



        {% if title %}
        <h2>{{title}}</h2>
        {% endif %}
        {% if sounds %}
        <h2 > Loved Songs </h2>

        <ul type=none>
        {% for sound in sounds%}
            <!-- <h5> -->
            <li class = " album-track track" data-artist = "{{sound.artist}}" data-title = "{{sound.title}}"
            data-type = "{{sound.type}}" data-id = "{{sound.id}}"> 
                <a><span class="glyphicon glyphicon-play play-track"></span></a>
                <a href = "/artist_name/{{ sound.artist|urlencode }}">{{sound.artist}} </a> - {{sound.title}} 
                <a class="pull-right" title="Love Track"><span class="glyphicon glyphicon-heart love-track"></span></a>
                <a class="pull-right" title="Add to Playlist"><span class="glyphicon glyphicon-plus playlist-add"></span></a>
            <!-- </h5> -->
            </li>
        {% endfor %}
        </ul>
        {%endif %}

        <form action="/lastfm_search" method="get">
        {% csrf_token %}
        Last.FM Username: <input type="text" id = "username" name = "username">
        <input type="submit" value="search" />
        </form>

        <form action="/soundcloud_search" method="get">
        {% csrf_token %}

        Search for: 
        <select id="query-type" name= 'query-type'>
                <option value="artist">artist</option>
                <option value="label">label</option>
            </select>
        by SoundCloud Username: <input type="text" id = "username" name = "username">
        <input type="submit" value="search" />
        </form>



        <form action="/search" method="get">
        {% csrf_token %}
        Search for: 
            <select id="query-type" name= 'query-type'>
                <option value="artist">artist</option>
                <option value="label">label</option>
            </select>
            <input type="text" name = "query" id = 'query'>
            <input type="submit"/>
        </form>



        {% if artists %}

        <ul> Artists:
        {% for artist in artists %}
            <li class = 'artist' >
                <img width="150" height="150" src="http://ws.audioscrobbler.com/2.0/?method=artist.imageredirect&amp;mbid={{artist.artist_id}}&amp;autocorrect=1&amp;size=largesquare&amp;api_key=c43db4e93f7608bb10d96fa5f69a74a1">
                <div>
                <a href = "/artist/{{artist.artist_id}}">  {{ artist.name }}</a>
                <span >
                    <button type="button" data-artist-id = "{{ artist.artist_id }}" class ="follow-artist">
                        {{artist.following_artist}}
                    </button>
                </span>
            </div>
            </li>
        {% endfor %}
        </ul>

        {% endif %}

        {% if labels %}

        <ul> Labels:
        {% for label in labels %}
            <li><a href = "/label/{{label.label_id}}">  {{ label.name }}</a>
                <span >
                    <button type="button" data-label-id = "{{ label.label_id }}" class ="follow-label">
                        {{label.following_label}}
                    </button>
                </span>
            </li>
        {% endfor %}
        </ul>

        {% endif %}

    </div>






    <script src="{{ STATIC_URL }}bootstrap3/js/bootstrap.min.js"></script>
    <script src="{{ STATIC_URL}}feast.js"></script>


  </body>
</html>
