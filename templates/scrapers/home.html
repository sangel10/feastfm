
{% extends 'scrapers/base.html' %}


{% block content %}


<div class = "row">
    <div class="container col-md-8 scrollable music"> <!-- col-md-offset-0 -->


        {% if releases %}

         <h2 > Releases </h2>
        {% for release in releases %}

        <li class = "release" style="list-style-type: none;">
            <div class="media album stream-item release" 
            data-artist = "{{release.artist}}"
            data-artist-id = "{{release.artist_id}}"
            data-album-title = "{{release.title}}"
            data-catalog-num = "{{release.cat_num}}"
            data-label = "{{release.label}}"
            data-label-id = "{{ release.label_id }}"
            data-date = "{{release.date}}"
            data-reid = "{{release.reid}}" 
            data-primary-type = "{{release.primary_type}}"

            >
                <a class="pull-left" href="#">
                  <img width = "100" height = "100" class="media-object" src="http://ws.audioscrobbler.com/2.0/?method=album.imageredirect&amp;artist={{release.artist|escape}}&amp;album={{release.title|escape}}&amp;autocorrect=1&amp;size=largesquare&amp;api_key=c43db4e93f7608bb10d96fa5f69a74a1" alt="...">
                </a>
                
                <div class="media-body">
                  <h3 class="media-heading">

                    {%if release.artist_id%}
                    <a href = "/artist/{{ release.artist_id }}">
                    {% else %}
                    <!-- <a href = "/artist_name/{{ release.artist|escape }}"> -->
                    <a href = "/artist_search/?query={{ release.artist|escape }}">
                    {% endif %}
                    

                    <strong>{{release.artist}}</strong>  </a> <button type = "button" class = "btn btn-default follow-artist" data-artist-id = "{{ release.artist_id }}" data-following-artist = "{{release.following_artist}}">{{release.following_artist}}</button>
                    
                    <div class = "pull-right" >
                    <span class = "expand-album" >  
                        <a title = "Expand album" ><span data-reid = "{{release.reid}}" class="glyphicon glyphicon-chevron-down"></span></a>
                    </span>

                    {% if release.following_album %}
                        <a ><span 
                        data-reid = "{{release.reid}}" 
                        data-album-title = "{{release.title}}" 
                        data-artist = "{{release.artist}}" 
                        class="glyphicon glyphicon-heart love-album red">
                    </span></a>
                    {%else%}
                    <a ><span 
                        data-reid = "{{release.reid}}" 
                        data-album-title = "{{release.title}}" 
                        data-artist = "{{release.artist}}" 
                        class="glyphicon glyphicon-heart love-album">
                    </span></a>
                    {% endif %}


                    
                    <a ><span title = "add to playlist" class="glyphicon glyphicon-plus add-album"></span></a>    
                      <a title = "Play album" class = "btn btn-default"><span data-reid = "{{release.reid}}" class="glyphicon glyphicon-play play-entire-album"></span></a>
                    {%if page == "playlist" %}
                        <a title = "Delete album" ><span data-reid = "{{release.reid}}" data-playlist-id = {{playlist.pk}} data-entry-id = {{release.entry_id}} data-feast-id ={{release.feast_id}} class="glyphicon glyphicon-remove delete-album"></span></a>
                    {% endif %}

                    </div>
                    <br>
                    <em>{{release.title}}</em>
                     <span class = "release-type">[{{release.primary_type}}] 
                        {% if release.secondary_types %}
                        {% for s_type in release.secondary_types %} 
                            [{{ s_type }}]  
                        {% endfor %}
                        {% endif %} 
                    </span>

                  </h3>
                  <h4><a class = "label-link" href = "/label/{{ release.label_id|escape }}" >{{release.label}}</a><button type = "button" class = "btn btn-default follow-label" data-label-id = "{{ release.label_id }}" data-label-name = "{{ release.label }}">{{release.following_label}}</button></h4>
                  <h5 class = "catalog-number">{{release.cat_num}}</h5>
                  <h5 class = "date">{{release.date}}</h5>
                  <h4>
                  <ul type ="none" class = "album-tracks">

                  </h4>
                  </ul>
                </div>
              </div>
            </li>

        {% endfor %}

        {% endif %}

        {% if title %}
        <h2>{{title}}</h2>
        {% endif %}
        {% if sounds %}
        <h2 >Songs </h2>

        <ul type=none id = "sounds">
        {% for sound in sounds%}
            <!-- <h5> -->
            <li class = " album-track track" 
            data-artist-id = "{{sound.artist_id}}" 
            data-artist = "{{sound.artist}}" 
            data-title = "{{sound.title}}"
            data-track-id = "{{sound.track_id}}" 
            data-type = "{{sound.type}}" 
            data-id = "{{sound.id}}"
            > 
                <a><span class="glyphicon glyphicon-play play-track"></span></a>

                {%if sound.artist_id%}
                    <a href = "/artist/{{ sound.artist_id }}">
                    {% else %}
                    <!-- <a href = "/artist_name/{{ sound.artist|escape }}"> -->
                    <a href = "/artist_search/?query={{ sound.artist|escape }}">
                        
                    {% endif %}
                <!-- <a href = "/artist_name/{{ sound.artist|urlencode }}"> -->


                    {{sound.artist}} </a> - {{sound.title}} 

                {%if page == "playlist" %}
                    <a title = "Delete track" class = "pull-right"><span data-reid = "{{sound.track_id}}" data-playlist-id = {{playlist.pk}} data-feast-id = "{{sound.feast_id}}"
                        data-entry-id = {{sound.entry_id}}
                        class="glyphicon glyphicon-remove delete-track"></span></a>
                {% endif %}

                <a class="pull-right" title="Add to Playlist"><span class="glyphicon glyphicon-plus playlist-add add-track"></span></a>
                <a class="pull-right" title="Love Track">

                    {% if sound.following_sound %}
                        <span class="glyphicon glyphicon-heart love-track red" ></span>
                    {% else %}
                        <span class="glyphicon glyphicon-heart love-track" ></span>
                    {% endif %}
                    </a>
                   
                
            <!-- </h5> -->
            </li>
        {% endfor %}
        </ul>
        {%endif %}




        {% if artists %}
        <h2 > Artists</h2>
        <ul type = none id = "artists">
        {% for artist in artists %}
            <li class = 'artist' >
                <!-- <img width="150" height="150" src="http://ws.audioscrobbler.com/2.0/?method=artist.imageredirect&amp;mbid={{artist.artist_id}}&amp;autocorrect=1&amp;size=largesquare&amp;api_key=c43db4e93f7608bb10d96fa5f69a74a1"> -->
                <img width="150" height="150" src="http://ws.audioscrobbler.com/2.0/?method=artist.imageredirect&amp;artist={{artist.name|escape}}&amp;autocorrect=1&amp;size=largesquare&amp;api_key=c43db4e93f7608bb10d96fa5f69a74a1">
                <div>
                <a href = "/artist/{{artist.artist_id}}">  {{ artist.name }}</a>

                {%if artist.disambiguation%}
                    <span>({{artist.disambiguation}})</span
                {%endif%}

                <span >
                    <button type="button" data-artist-id = "{{ artist.artist_id }}" class ="follow-artist">
                        {{artist.following_artist}}
                    </button>
                </span>
            </div>
            </li>
        {% endfor %}
        </ul>

        {% endif %}

        {% if labels %}
        <h2 > Labels </h2>
        <ul type=none id = "labels">
        {% for label in labels %}
            <li><a href = "/label/{{label.label_id}}">  {{ label.name }}</a>
                {%if label.disambiguation%}
                    <span>({{label.disambiguation}})</span
                {%endif%}
                <span >
                    <button type="button" data-label-name = "{{ label.name }}" data-label-id = "{{ label.label_id }}" class ="follow-label">
                        {{label.following_label}}
                    </button>
                </span>
            </li>
        {% endfor %}
        </ul>

        {% endif %}

    {% if page == 'my_playlist' %}
    <h2><a href = "/create_playlist" > CREATE PLAYLIST</a></h2>

    {% endif %}



<!--     {% if playlists%}
    <ul><h2>Playlists</h2><ul>
        <li><h3><a href= "/create_playlist/">Create New Playlist</a><h3></li>
        {% for playlist in playlists %}
        <li class= "playlist">
            <h3>
                <a href= "/playlist/{{playlist.pk}}"    >{{playlist.name}}</a>
                <a><span class="glyphicon glyphicon-remove pull-right delete-playlist" data-playlist-id = {{playlist.pk}}></span></a>
            </h3>
            <h4>
                <div>{{playlist.description}}</div>
            <h4>
        </li>
        {% endfor %}

    {% endif%} -->


    </div>

    <div class="container col-md-4 scrollable">
        <div id="player">
        </div>

        <br>
        <br>
        <div class="noUiSlider"></div>

        <br>
        <!-- <ul>
            <li><h1>top<h1></li>
            <li><h1>tasdfasdf<h1></li>
            <li><h1>tasdfasdf<h1></li>
            <li><h1>tasdfasdf<h1></li>
            <li><h1>tasdfasdf<h1></li>
            <li><h1>tasdfasdf<h1></li>
            <li><h1>tasdfasdf<h1></li>
            <li><h1>tasdfasdf<h1></li>
            <li><h1>tasdfasdf<h1></li>
            <li><h1>tasdfasdf<h1></li>
            <li><h1>tasdfasdf<h1></li>
            <li><h1>mid<h1></li>
            <li><h1>tasdfasdf<h1></li>
            <li><h1>tasdfasdf<h1></li>
            <li><h1>tasdfasdf<h1></li>
            <li><h1>tasdfasdf<h1></li>
            <li><h1>tasdfasdf<h1></li>
            <li><h1>tasdfasdf<h1></li>
            <li><h1>tasdfasdf<h1></li>
            <li><h1>tasdfasdf<h1></li>
            <li><h1>tasdfasdf<h1></li>
            <li><h1>tasdfasdf<h1></li>
            <li><h1>tasdfasdf<h1></li>
            <li><h1>end<h1></li>
        </ul> -->
    </div>


</div>

{% endblock content %}
